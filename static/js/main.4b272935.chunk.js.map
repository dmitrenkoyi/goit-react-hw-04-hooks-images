{"version":3,"sources":["components/Searchbar/Searchbar.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","Api/img-api.js","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["Searchbar","formSubmit","useState","query","setQuery","className","onSubmit","e","preventDefault","type","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","modalRoot","document","querySelector","Modal","children","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","onClick","target","ImageGalleryItem","smallImg","largeImage","id","tags","largeImg","setLargeImg","showModal","setShowModal","toggleModal","src","alt","Button","api","fetchImages","imgName","currentPage","fetch","then","response","ok","json","Promise","reject","Error","LoaderSpinner","color","height","width","timeout","ImageGallery","setCurrentPage","images","setImages","error","setError","status","setStatus","ImagesAPI","hits","length","scrollTo","top","documentElement","scrollHeight","behavior","catch","Loader","map","img","webformatURL","largeImageURL","App","data","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4b272935.chunk.js","sourcesContent":["import { useState } from 'react';\n\nconst Searchbar = ({formSubmit}) => {\n  const [query, setQuery] = useState('');\n\n  const handleQueryChange = e => {\n    setQuery( e.currentTarget.value.toLowerCase() );\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    formSubmit(query);\n    setQuery( '' );\n  };\n\n  return (\n      <header className=\"Searchbar\">\n        <form onSubmit={handleSubmit} className=\"SearchForm\">\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={query}\n            onChange={handleQueryChange}\n          />\n        </form>\n      </header>\n    );\n}\n\n\nexport default Searchbar;\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nfunction Modal({children, onClose }) {\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    }\n  });\n  \n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n   \n  return createPortal(\n    <div className=\"Overlay\" onClick={handleBackdropClick}>\n      <div className=\"Modal\">{children}</div>\n    </div>,\n    modalRoot,\n  );\n}\n\n\nModal.propTypes = {\n  children: PropTypes.node.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import { useState } from 'react';\n\nimport Modal from '../Modal';\n\nconst ImageGalleryItem = ({ smallImg, largeImage, id, tags }) => {\n  const [largeImg, setLargeImg] = useState('');\n  const [showModal, setShowModal] = useState(false);\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const onImageClick = img => {\n    setLargeImg(img);\n    toggleModal();\n  };\n\n   return (\n      <>\n        <li\n          className=\"ImageGalleryItem\"\n          key={id}\n          id={id}\n          onClick={() => onImageClick(largeImage)}\n        >\n          <img src={smallImg} alt={tags} className=\"ImageGalleryItem-image\" />\n        </li>\n\n        {showModal && (\n          <Modal onClose={toggleModal}>\n            <img src={largeImg} alt=\"\" />\n          </Modal>\n        )}\n      </>\n    );\n}\n\n\n\nexport default ImageGalleryItem;\n","const Button = ({ onClick }) => {\n  return (\n    <button onClick={onClick} type=\"button\" className=\"Button\">\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n","function fetchImages(imgName, currentPage) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const KEY = '21948624-31b67ed2e94e468d71d1f3d1d';\n\n  return fetch(\n    `${BASE_URL}?q=${imgName}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(new Error(`No image with name ${imgName}`));\n  });\n}\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nfunction LoaderSpinner() {\n  return (\n      <Loader\n        type=\"Oval\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000}\n        className=\"LoaderSpinner\"\n      />\n    );\n}\n\nexport default LoaderSpinner;\n","import { useState, useEffect } from 'react';\n\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport Button from '../Button';\nimport ImagesAPI from '../../Api/img-api';\nimport LoaderSpinner from '../Loader';\n\nconst ImageGallery = ({ query }) => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [error, setError] = useState('');\n  const [status, setStatus] = useState('idle');\n\n  useEffect(() => {\n    setCurrentPage(1);\n    setImages([]);\n  }, [query]);\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    };\n\n    setStatus('pending'); \n   \n    ImagesAPI.fetchImages(query, currentPage)\n      .then(response => {\n        setImages((images) => [...images, ...response.hits]);\n        setStatus('resolved');\n\n        if (response.hits.length === 0) {\n          setError('По вашему запросу ничего не найдено.');\n          setStatus('rajected');\n        };\n      })\n      .then(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch((error) => {\n        setError(error);\n        setStatus('rajected');\n      });\n  }, [currentPage, query]\n  );    \n   \n  // const onLoadMore = () => {\n  //   setCurrentPage(state => state + 1);\n  // }\n\n  if (status === 'idle') {\n      return <div className=\"Status\">Введите запрос в поле поиска</div>;\n    }\n\n    if (status === 'pending') {\n      return (\n        <div>          \n          <LoaderSpinner />\n        </div>\n      );\n    }\n\n    if (status === 'rajected') {\n      return <div className=\"Status-error\">{error}</div>;\n    }\n\n    if (status === 'resolved') {\n      return (\n        <>\n          <ul className=\"ImageGallery\">\n            {images.map(img => (\n              <ImageGalleryItem\n                key={img.webformatURL}\n                smallImg={img.webformatURL}\n                largeImage={img.largeImageURL}\n                id={img.id}\n                tags={img.tags}\n              />\n            ))}\n          </ul>\n          {images.length > 0 && <Button onClick={()=> setCurrentPage(currentPage + 1)} />}\n        </>\n      );\n    }\n}\n\n\nexport default ImageGallery;","import { useState} from 'react';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\n\nimport './styles.css';\n\nconst App = () => {\n  const [query, setQuery] = useState('');\n\n  const handleFormSubmit = data => {\n    setQuery(data);\n  };\n   \n    return (\n      <div className=\"App\">\n        <Searchbar formSubmit={handleFormSubmit} />\n        <ImageGallery query={query} />\n      </div>\n    );\n}\n\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}